<div *ngIf="form; else loading" class="card">
  <div class="card-content">
    <h2>Редактирование поста</h2>
    <form [formGroup]="form" (ngSubmit)="submit()">
      <div class="field">
        <label class="label">Название поста:</label>
        <div class="control">
          <input [ngClass]="{'is-danger': form.get('title').touched && form.get('title').invalid}"
                 formControlName="title"
                 class="input" type="text" placeholder="">
        </div>
        <div *ngIf="form.get('title').touched && form.get('title').invalid">
          <p *ngIf="form.get('title').errors.required"
             class="help is-danger">Введите название</p>
        </div>
      </div>
      <div class="field">
        <label class="label">Текст поста:</label>
        <quill-editor formControlName="text"></quill-editor>
      </div>
      <button
        type="submit"
        class="button is-success"
        [disabled]="form.invalid || submitted"
      >Сохранить
      </button>
    </form>
  </div>
</div>
<ng-template #loading>
  <div class="container">
    <div class="notification">
      <progress class="progress is-small is-info" max="100">60%</progress>
    </div>
  </div>
</ng-template>
